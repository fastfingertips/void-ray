<!-- SETTINGS PANEL -->
<div id="settings-panel">
    <div id="settings-header" class="flex justify-between items-center mb-2 border-b border-white/10 pb-2 cursor-move">
        <h3 class="text-sm font-bold tracking-widest pointer-events-none" style="color: var(--hud-text);"
            data-i18n="settings.title">SETTINGS</h3>
        <div class="ui-close-btn" id="btn-close-settings" data-i18n-title="general.close" title="Close">âœ•</div>
    </div>

    <div class="settings-tabs">
        <div id="tab-btn-game" class="settings-tab active" data-i18n="settings.tabs.game">GAME</div>
        <div id="tab-btn-view" class="settings-tab" data-i18n="settings.tabs.view">VIEW</div>
        <div id="tab-btn-audio" class="settings-tab" data-i18n="settings.tabs.audio">AUDIO</div>
        <div id="tab-btn-save" class="settings-tab" data-i18n="settings.tabs.save">SAVE</div>
        <div id="tab-btn-dev" class="settings-tab text-red-400" style="display: none;" data-i18n="settings.tabs.dev">DEV
        </div>
    </div>

    <!-- TAB 1: GAME -->
    <div id="set-tab-game" class="settings-content active">
        <div class="mb-2 text-xs font-bold tracking-widest opacity-80 mt-2" style="color: var(--hud-color);"
            data-i18n="settings.navArrows">NAVIGATION ARROWS</div>
        <div class="mb-4">
            <div class="toggle-row" onmouseenter="showInfoTooltip(event, window.t ? t('tooltips.nexusArrow') : '')"
                onmouseleave="hideTooltip()">
                <span data-i18n="settings.nexus">BASE (NEXUS)</span>
                <label class="toggle-switch">
                    <input type="checkbox" id="toggle-nexus-arrow" checked>
                    <span class="slider"></span>
                </label>
            </div>
            <div class="toggle-row" onmouseenter="showInfoTooltip(event, window.t ? t('tooltips.repairArrow') : '')"
                onmouseleave="hideTooltip()">
                <span data-i18n="settings.repairStation">REPAIR STATION</span>
                <label class="toggle-switch">
                    <input type="checkbox" id="toggle-repair-arrow">
                    <span class="slider"></span>
                </label>
            </div>
            <div class="toggle-row" onmouseenter="showInfoTooltip(event, window.t ? t('tooltips.storageArrow') : '')"
                onmouseleave="hideTooltip()">
                <span data-i18n="settings.storageCenter">STORAGE CENTER</span>
                <label class="toggle-switch">
                    <input type="checkbox" id="toggle-storage-arrow">
                    <span class="slider"></span>
                </label>
            </div>
            <div class="toggle-row" onmouseenter="showInfoTooltip(event, window.t ? t('tooltips.echoArrow') : '')"
                onmouseleave="hideTooltip()">
                <span data-i18n="settings.echo">ECHO</span>
                <label class="toggle-switch">
                    <input type="checkbox" id="toggle-echo-arrow" checked>
                    <span class="slider"></span>
                </label>
            </div>
        </div>

        <div class="mb-2 text-xs font-bold tracking-widest opacity-80 mt-4" style="color: var(--hud-color);"
            data-i18n="settings.system">SYSTEM</div>
        <div class="toggle-row" onmouseenter="showInfoTooltip(event, window.t ? t('tooltips.console') : '')"
            onmouseleave="hideTooltip()">
            <span data-i18n="settings.enableConsole">ENABLE CONSOLE</span>
            <label class="toggle-switch">
                <input type="checkbox" id="toggle-console">
                <span class="slider"></span>
            </label>
        </div>

        <div class="toggle-row" onmouseenter="showInfoTooltip(event, window.t ? t('tooltips.devMode') : '')"
            onmouseleave="hideTooltip()">
            <span data-i18n="settings.devMode">DEVELOPER MODE</span>
            <label class="toggle-switch">
                <input type="checkbox" id="toggle-dev-mode">
                <span class="slider"></span>
            </label>
        </div>

        <!-- LANGUAGE OPTION -->
        <div class="mb-2 text-xs font-bold tracking-widest opacity-80 mt-4" style="color: var(--hud-color);"
            data-i18n="settings.language">LANGUAGE</div>
        <div id="language-options">
            <button id="lang-btn-tr" class="lang-option-btn active" onmouseenter="showInfoTooltip(event, 'TÃ¼rkÃ§e')"
                onmouseleave="hideTooltip()">
                <span>ðŸ‡¹ðŸ‡·</span>
                <span>TR</span>
            </button>
            <button id="lang-btn-en" class="lang-option-btn" onmouseenter="showInfoTooltip(event, 'English')"
                onmouseleave="hideTooltip()">
                <span>ðŸ‡¬ðŸ‡§</span>
                <span>EN</span>
            </button>
        </div>
    </div>

    <!-- TAB 2: VIEW -->
    <div id="set-tab-view" class="settings-content">
        <div class="mb-2 text-xs font-bold tracking-widest opacity-80 mt-2" style="color: var(--hud-color);"
            data-i18n="settings.themeColor">THEME COLOR</div>
        <div class="flex gap-2 mb-4 justify-between flex-wrap" id="theme-color-options">
            <div class="theme-opt w-6 h-6 rounded-sm border border-white/20 cursor-pointer hover:scale-110 transition-transform shadow-md"
                data-color="#94d8c3" style="background:#94d8c3;"
                onmouseenter="showInfoTooltip(event, 'Default Turquoise')" onmouseleave="hideTooltip()"></div>
            <div class="theme-opt w-6 h-6 rounded-sm border border-white/20 cursor-pointer hover:scale-110 transition-transform shadow-md"
                data-color="#38bdf8" style="background:#38bdf8;" onmouseenter="showInfoTooltip(event, 'Sky Blue')"
                onmouseleave="hideTooltip()"></div>
            <div class="theme-opt w-6 h-6 rounded-sm border border-white/20 cursor-pointer hover:scale-110 transition-transform shadow-md"
                data-color="#a855f7" style="background:#a855f7;" onmouseenter="showInfoTooltip(event, 'Neon Purple')"
                onmouseleave="hideTooltip()"></div>
            <div class="theme-opt w-6 h-6 rounded-sm border border-white/20 cursor-pointer hover:scale-110 transition-transform shadow-md"
                data-color="#fbbf24" style="background:#fbbf24;" onmouseenter="showInfoTooltip(event, 'Golden Yellow')"
                onmouseleave="hideTooltip()"></div>
            <div class="theme-opt w-6 h-6 rounded-sm border border-white/20 cursor-pointer hover:scale-110 transition-transform shadow-md"
                data-color="#ef4444" style="background:#ef4444;" onmouseenter="showInfoTooltip(event, 'Alert Red')"
                onmouseleave="hideTooltip()"></div>
            <div class="theme-opt w-6 h-6 rounded-sm border border-white/20 cursor-pointer hover:scale-110 transition-transform shadow-md"
                data-color="#ffffff" style="background:#ffffff;" onmouseenter="showInfoTooltip(event, 'Pure White')"
                onmouseleave="hideTooltip()"></div>

            <div class="relative w-6 h-6 rounded-sm border border-white/20 cursor-pointer hover:scale-110 transition-transform shadow-md overflow-hidden"
                onmouseenter="showInfoTooltip(event, 'Custom Color')" onmouseleave="hideTooltip()">
                <input type="color" id="custom-theme-picker"
                    class="absolute inset-0 w-[150%] h-[150%] -top-[25%] -left-[25%] p-0 border-0 cursor-pointer opacity-0"
                    value="#94d8c3">
                <div
                    class="w-full h-full bg-[conic-gradient(at_center,_var(--tw-gradient-stops))] from-red-500 via-purple-500 via-blue-500 via-green-500 to-yellow-500 flex items-center justify-center pointer-events-none">
                    <span class="text-white text-[10px] font-bold drop-shadow-md">+</span>
                </div>
            </div>
        </div>

        <div class="mb-2 text-xs font-bold tracking-widest opacity-80 mt-4" style="color: var(--hud-color);"
            data-i18n="settings.atmosphere">ATMOSPHERE</div>

        <div class="toggle-row" onmouseenter="showInfoTooltip(event, window.t ? t('tooltips.spaceGrid') : '')"
            onmouseleave="hideTooltip()">
            <span data-i18n="settings.spaceGrid">SPACE GRID</span>
            <label class="toggle-switch">
                <input type="checkbox" id="toggle-grid">
                <span class="slider"></span>
            </label>
        </div>

        <div class="mb-2" onmouseenter="showInfoTooltip(event, window.t ? t('tooltips.starBright') : '')"
            onmouseleave="hideTooltip()">
            <div class="flex justify-between text-xs text-gray-400 tracking-widest mt-2"><span
                    data-i18n="settings.starBrightness">STAR BRIGHTNESS</span><span id="val-star-bright">100%</span>
            </div>
            <input type="range" id="vol-star-bright" class="smart-slider" data-default="100" min="0" max="100"
                value="100">
        </div>

        <div class="mb-2 text-xs font-bold tracking-widest opacity-80 mt-4" style="color: var(--hud-color);"
            data-i18n="settings.interfaceWindows">INTERFACE & WINDOWS</div>
        <div class="mb-4">
            <div class="flex justify-between text-xs text-gray-400 tracking-widest"
                onmouseenter="showInfoTooltip(event, window.t ? t('tooltips.hudOpacity') : '')"
                onmouseleave="hideTooltip()"><span data-i18n="settings.hudOpacity">HUD OPACITY</span><span
                    id="val-hud-opacity">100%</span></div>
            <input type="range" id="vol-hud-opacity" class="smart-slider" data-default="100" min="20" max="100"
                value="100">

            <div class="flex justify-between text-xs text-gray-400 tracking-widest mt-2"
                onmouseenter="showInfoTooltip(event, window.t ? t('tooltips.windowOpacity') : '')"
                onmouseleave="hideTooltip()"><span data-i18n="settings.windowOpacity">WINDOW OPACITY</span><span
                    id="val-window-opacity">100%</span>
            </div>
            <input type="range" id="vol-window-opacity" class="smart-slider" data-default="100" min="20" max="100"
                value="100">

            <div class="toggle-row mt-3"
                onmouseenter="showInfoTooltip(event, window.t ? t('tooltips.hoverEffect') : '')"
                onmouseleave="hideTooltip()">
                <span data-i18n="settings.hoverEffect">HOVER TO 100%</span>
                <label class="toggle-switch">
                    <input type="checkbox" id="toggle-hud-hover">
                    <span class="slider"></span>
                </label>
            </div>

            <div class="toggle-row mt-3" onmouseenter="showInfoTooltip(event, window.t ? t('tooltips.shipBars') : '')"
                onmouseleave="hideTooltip()">
                <span data-i18n="settings.shipBars">SHIP STATUS BARS</span>
                <label class="toggle-switch">
                    <input type="checkbox" id="toggle-ship-bars">
                    <span class="slider"></span>
                </label>
            </div>

            <div class="toggle-row mt-3"
                onmouseenter="showInfoTooltip(event, window.t ? t('tooltips.cinematicMode') : '')"
                onmouseleave="hideTooltip()">
                <span data-i18n="settings.cinematicMode">CINEMATIC MODE (AI/IDLE HIDE)</span>
                <label class="toggle-switch">
                    <input type="checkbox" id="toggle-auto-hide-hud">
                    <span class="slider"></span>
                </label>
            </div>
        </div>

        <div class="mb-2 text-xs font-bold tracking-widest opacity-80 mt-4" style="color: var(--hud-color);"
            data-i18n="settings.cameraPosition">CAMERA POSITION</div>

        <div class="toggle-row mb-3" onmouseenter="showInfoTooltip(event, window.t ? t('tooltips.adaptiveMode') : '')"
            onmouseleave="hideTooltip()">
            <span data-i18n="settings.adaptiveMode">ADAPTIVE MODE</span>
            <label class="toggle-switch">
                <input type="checkbox" id="toggle-adaptive-cam">
                <span class="slider"></span>
            </label>
        </div>

        <div class="toggle-row mb-3" onmouseenter="showInfoTooltip(event, window.t ? t('tooltips.smoothCam') : '')"
            onmouseleave="hideTooltip()">
            <span data-i18n="settings.smoothTransition">SMOOTH TRANSITION</span>
            <label class="toggle-switch">
                <input type="checkbox" id="toggle-smooth-cam" checked>
                <span class="slider"></span>
            </label>
        </div>

        <div id="manual-camera-controls" style="transition: opacity 0.3s;">
            <div class="mb-2" onmouseenter="showCamTooltip(event, window.t ? t('tooltips.camX') : '')"
                onmouseleave="hideTooltip()">
                <div class="flex justify-between text-xs text-gray-400 tracking-widest"><span
                        data-i18n="settings.horizontalX">HORIZONTAL (X)</span><span id="val-cam-x">0</span></div>
                <input type="range" id="cam-offset-x" class="smart-slider" data-default="0" min="-400" max="400"
                    value="0">
            </div>
            <div class="mb-4" onmouseenter="showCamTooltip(event, window.t ? t('tooltips.camY') : '')"
                onmouseleave="hideTooltip()">
                <div class="flex justify-between text-xs text-gray-400 tracking-widest"><span
                        data-i18n="settings.verticalY">VERTICAL (Y)</span><span id="val-cam-y">0</span></div>
                <input type="range" id="cam-offset-y" class="smart-slider" data-default="0" min="-300" max="300"
                    value="0">
            </div>
        </div>

        <!-- EFFECTS SECTION -->
        <div class="mb-2 text-xs font-bold tracking-widest opacity-80 mt-4" style="color: var(--hud-color);"
            data-i18n="settings.effects">EFFECTS</div>

        <div class="toggle-row" onmouseenter="showInfoTooltip(event, window.t ? t('tooltips.crtEffect') : '')"
            onmouseleave="hideTooltip()">
            <span data-i18n="settings.crtEffect">CRT MONITOR EFFECT</span>
            <label class="toggle-switch">
                <input type="checkbox" id="toggle-crt">
                <span class="slider"></span>
            </label>
        </div>

        <!-- CRT INTENSITY SLIDER -->
        <div id="crt-intensity-wrapper"
            style="display: none; margin-top: 5px; margin-bottom: 10px; padding-left: 10px; border-left: 2px solid"
            style="border-color: var(--hud-color-dim);">
            <div class="flex justify-between text-xs text-gray-400 tracking-widest"
                onmouseenter="showInfoTooltip(event, window.t ? t('tooltips.crtIntensity') : '')"
                onmouseleave="hideTooltip()"><span data-i18n="settings.intensity">INTENSITY</span><span
                    id="val-crt-intensity">50%</span></div>
            <input type="range" id="vol-crt-intensity" class="smart-slider" data-default="50" min="10" max="100"
                value="50">
        </div>

        <div class="mt-4 pt-3 border-t border-white/10 text-[9px] text-gray-500 font-mono text-center tracking-widest"
            data-i18n="settings.defaultHint">
            DOUBLE CLICK FOR DEFAULT VALUE
        </div>
    </div>

    <!-- TAB 3: AUDIO -->
    <div id="set-tab-audio" class="settings-content">
        <div class="mb-2 text-xs font-bold tracking-widest opacity-80 mt-2" style="color: var(--hud-color);"
            data-i18n="settings.soundLevel">SOUND LEVEL</div>
        <div class="mb-4" onmouseenter="showInfoTooltip(event, window.t ? t('tooltips.music') : '')"
            onmouseleave="hideTooltip()">
            <div class="flex justify-between text-xs text-gray-400 tracking-widest"><span
                    data-i18n="settings.music">MUSIC</span><span id="val-m">20%</span></div>
            <input type="range" id="vol-music" class="smart-slider" data-default="20" min="0" max="100" value="20">
        </div>
        <div onmouseenter="showInfoTooltip(event, window.t ? t('tooltips.sfx') : '')" onmouseleave="hideTooltip()">
            <div class="flex justify-between text-xs text-gray-400 tracking-widest"><span
                    data-i18n="settings.atmosphere2">ATMOSPHERE</span><span id="val-s">80%</span></div>
            <input type="range" id="vol-sfx" class="smart-slider" data-default="80" min="0" max="100" value="80">
        </div>

        <div class="mt-4 pt-3 border-t border-white/10 text-[9px] text-gray-500 font-mono text-center tracking-widest"
            data-i18n="settings.defaultHint">
            DOUBLE CLICK FOR DEFAULT VALUE
        </div>
    </div>

    <!-- TAB 4: SAVE -->
    <div id="set-tab-save" class="settings-content">
        <div class="mb-2 text-xs font-bold tracking-widest opacity-80 mt-2" style="color: var(--hud-color);"
            data-i18n="settings.saveOperations">SAVE OPERATIONS</div>
        <p class="text-xs text-gray-400 mb-4" data-i18n="settings.saveDesc">The game auto-saves every 30 seconds. You
            can backup your save or transfer it to another device.</p>

        <div class="flex flex-col gap-3">
            <button id="btn-action-export"
                class="bg-white/5 hover:bg-white/10 border py-2 px-4 rounded text-xs tracking-widest transition flex items-center justify-center gap-2"
                style="color: var(--hud-color); border-color: var(--hud-color-dim);">
                <span data-i18n="settings.export">EXPORT (COPY)</span>
            </button>

            <button id="btn-action-import"
                class="bg-white/5 hover:bg-white/10 text-emerald-300 border border-emerald-300/30 py-2 px-4 rounded text-xs tracking-widest transition flex items-center justify-center gap-2">
                <span data-i18n="settings.import">IMPORT (PASTE)</span>
            </button>

            <div class="h-px bg-white/10 my-1"></div>

            <button id="btn-action-reset"
                class="bg-red-500/10 hover:bg-red-500/20 text-red-400 border border-red-500/30 py-2 px-4 rounded text-xs tracking-widest transition flex items-center justify-center gap-2">
                <span data-i18n="settings.deleteAll">âš  DELETE ALL PROGRESS</span>
            </button>
        </div>
    </div>

    <!-- TAB 5: DEVELOPER -->
    <div id="set-tab-dev" class="settings-content">
        <div class="mb-2 text-xs text-red-400 font-bold tracking-widest opacity-80 mt-2"
            data-i18n="settings.visualDebug">VISUAL DEBUGGING</div>
        <div class="mb-4">
            <div class="toggle-row" onmouseenter="showInfoTooltip(event, window.t ? t('tooltips.gravityFields') : '')"
                onmouseleave="hideTooltip()">
                <span data-i18n="settings.gravityFields">GRAVITY FIELDS</span>
                <label class="toggle-switch">
                    <input type="checkbox" id="toggle-gravity-debug">
                    <span class="slider"></span>
                </label>
            </div>
            <div class="toggle-row" onmouseenter="showInfoTooltip(event, window.t ? t('tooltips.hitboxes') : '')"
                onmouseleave="hideTooltip()">
                <span data-i18n="settings.hitboxes">COLLISION BOUNDS</span>
                <label class="toggle-switch">
                    <input type="checkbox" id="toggle-hitboxes">
                    <span class="slider"></span>
                </label>
            </div>
            <div class="toggle-row" onmouseenter="showInfoTooltip(event, window.t ? t('tooltips.vectors') : '')"
                onmouseleave="hideTooltip()">
                <span data-i18n="settings.showVectors">SHOW VECTORS</span>
                <label class="toggle-switch">
                    <input type="checkbox" id="toggle-vectors">
                    <span class="slider"></span>
                </label>
            </div>
            <div class="toggle-row" onmouseenter="showInfoTooltip(event, window.t ? t('tooltips.targetVectors') : '')"
                onmouseleave="hideTooltip()">
                <span data-i18n="settings.targetVectors">TARGET VECTORS</span>
                <label class="toggle-switch">
                    <input type="checkbox" id="toggle-target-vectors">
                    <span class="slider"></span>
                </label>
            </div>
            <div class="toggle-row" onmouseenter="showInfoTooltip(event, window.t ? t('tooltips.hidePlayer') : '')"
                onmouseleave="hideTooltip()">
                <span data-i18n="settings.hidePlayer">HIDE PLAYER</span>
                <label class="toggle-switch">
                    <input type="checkbox" id="toggle-hide-player">
                    <span class="slider"></span>
                </label>
            </div>
            <div class="mb-2 text-xs text-red-400 font-bold tracking-widest opacity-80 mt-4"
                data-i18n="settings.performanceGameplay">PERFORMANCE & GAMEPLAY</div>
            <div class="toggle-row" onmouseenter="showInfoTooltip(event, window.t ? t('tooltips.fps') : '')"
                onmouseleave="hideTooltip()">
                <span data-i18n="settings.perfMonitor">PERFORMANCE MONITOR</span>
                <label class="toggle-switch">
                    <input type="checkbox" id="toggle-fps-counter">
                    <span class="slider"></span>
                </label>
            </div>
            <div class="toggle-row" onmouseenter="showInfoTooltip(event, window.t ? t('tooltips.godMode') : '')"
                onmouseleave="hideTooltip()">
                <span data-i18n="settings.godMode">GOD MODE</span>
                <label class="toggle-switch">
                    <input type="checkbox" id="toggle-god-mode">
                    <span class="slider"></span>
                </label>
            </div>

            <div class="mt-4 flex gap-2">
                <button id="btn-dev-add-resources"
                    class="bg-red-900/30 text-red-300 text-[10px] px-2 py-1 rounded border border-red-500/20 hover:bg-red-900/50"
                    data-i18n="settings.addCrystal">+1000 CRYSTAL</button>
                <button id="btn-dev-levelup"
                    class="bg-red-900/30 text-red-300 text-[10px] px-2 py-1 rounded border border-red-500/20 hover:bg-red-900/50"
                    data-i18n="settings.levelUp">LEVEL UP</button>
            </div>
        </div>
        <div class="p-2 border border-red-900/30 bg-red-900/10 rounded text-xs text-red-300 font-mono mt-4"
            data-i18n="settings.devWarning">
            WARNING: These options may affect game performance.
        </div>
    </div>
</div>