/* * CORE.CSS
 * Temel yapılandırma, değişkenler ve global stiller.
 * MERKEZİ TASARIM SİSTEMİ
 */

:root {
    /* --- OYUN RENKLERİ (VARLIKLAR) --- */
    --ray-color: #38bdf8;       /* Vatoz / Oyuncu Mavisi */
    --echo-color: #67e8f9;      /* Yankı / Echo Turkuazı */
    --toxic-color: #84cc16;     /* Zehir Yeşili */
    --tardigrad-color: #C7C0AE; /* Tardigrad Beji */
    
    /* --- DURUM RENKLERİ (UI) --- */
    --color-success: #10b981;   /* Yeşil / Başarı / Can Dolu */
    --color-danger: #ef4444;    /* Kırmızı / Hata / Tehlike */
    --color-warning: #f59e0b;   /* Turuncu / Uyarı */
    --color-gold: #fbbf24;      /* Altın / Para / Efsanevi */
    --color-storage: #a855f7;   /* Mor / Depo / Kayıp Kargo */
    
    /* --- METİN RENKLERİ --- */
    --color-text-main: #e2e8f0;  /* Ana Metin (Parlak) */
    --color-text-dim: #94a3b8;   /* Sönük Metin (Açıklamalar) */
    --color-text-dark: #64748b;  /* Koyu Metin (Etiketler) */

    /* --- WIREFRAME / RPG HUD TEMASI (ORTAK STİL) --- */
    --hud-color: #94d8c3;        /* Ana Tema Rengi (Soluk Turkuaz) */
    --hud-color-dim: rgba(148, 216, 195, 0.3); /* Tema Rengi (Saydam) */
    --hud-bg: rgba(10, 12, 14, 0.95); /* Koyu Arka Plan */
    --hud-text: #e2e8f0;
    --hud-text-dim: #94a3b8;
    --hud-danger: #ef4444;

    /* --- ORTAK DESENLER (Gradients) --- */
    /* Köşeli ızgara deseni (Menu, Profil ve Chat için ortak) */
    --wireframe-gradient: 
        linear-gradient(to right, var(--hud-color) 2px, transparent 2px),
        linear-gradient(to bottom, var(--hud-color) 2px, transparent 2px),
        linear-gradient(to left, var(--hud-color) 2px, transparent 2px),
        linear-gradient(to top, var(--hud-color) 2px, transparent 2px);

    /* --- YAPI & CAM EFEKTLERİ (ESKİ) --- */
    --glass-bg: rgba(5, 5, 5, 0.95);
    --glass-border: rgba(255, 255, 255, 0.15);
    --sharp-radius: 2px;
    --soft-radius: 12px;
    --slot-bg: #111;
    --slot-border: #333;
}

body {
    margin: 0; 
    overflow: hidden; 
    background-color: #020204;
    font-family: 'Outfit', sans-serif; 
    touch-action: none;
    color: rgba(255, 255, 255, 0.9); 
    user-select: none;
}

canvas { 
    display: block; 
}

/* SCROLLBAR (Ortak Tasarım) */
::-webkit-scrollbar { width: 4px; height: 4px; }
::-webkit-scrollbar-track { background: rgba(0,0,0,0.5); }
::-webkit-scrollbar-thumb { background: var(--hud-color-dim); border-radius: 0; }
::-webkit-scrollbar-thumb:hover { background: var(--hud-color); }

/* --- GLOBAL YARDIMCILAR --- */
/* Overlay'in varsayılan z-index değeri yükseltildi ve 1000'den küçük tutuldu */
.overlay-base { 
    position: absolute; 
    inset: 0; 
    background: transparent; 
    z-index: 70; 
    opacity: 0; 
    pointer-events: none; 
    transition: opacity 0.3s; 
    display: flex; 
    justify-content: center; 
    align-items: center; 
}

.overlay-base.open { 
    opacity: 1; 
    /* YENİ: Arka planı tıklanabilir yapmak için none */
    pointer-events: none; 
}

/* Pencere içeriğinin tıklanabilir olmasını sağla */
/* Z-index başlangıç değeri eklendi */
.overlay-base.open > * {
    pointer-events: auto;
    z-index: 80; /* Varsayılan değer */
}

/* --- ORTAK SINIFLAR (UTILITIES) --- */
.wireframe-box {
    background: var(--hud-bg);
    border: 1px solid var(--hud-color-dim);
    background-image: var(--wireframe-gradient);
    background-size: 10px 10px;
    background-position: top left, top left, bottom right, bottom right;
    background-repeat: no-repeat;
    box-shadow: 0 0 30px rgba(0,0,0,0.8);
    backdrop-filter: blur(5px);
    border-radius: 0;
}

.mono-font {
    font-family: 'Courier New', Courier, monospace;
}

/* --- YENİ: CRT SCANLINE EFEKTİ (GÜÇLENDİRİLMİŞ) --- */
#crt-overlay {
    position: fixed; inset: 0; z-index: 9999; pointer-events: none;
    
    /* Katman 1: Vignette (Köşeleri karartma) - Monitör bombesi hissi
       Katman 2: Scanlines (Yatay çizgiler) - Siyah ve hafif beyaz çizgiler
       Katman 3: RGB Subpixels (Dikey çizgiler) - Hafif renk ayrışması
    */
    background: 
        radial-gradient(circle, rgba(0,0,0,0) 50%, rgba(0,0,0,0.7) 100%),
        linear-gradient(to bottom, rgba(255,255,255,0.08) 50%, rgba(0,0,0,0.6) 50%),
        linear-gradient(90deg, rgba(255,0,0,0.08), rgba(0,255,0,0.04), rgba(0,0,255,0.08));
        
    background-size: 100% 100%, 100% 4px, 4px 100%;
    
    opacity: 0; 
    /* Performans için transition süresini kısalttık */
    transition: opacity 0.1s;
    /* mix-blend-mode kaldırıldı, normal karışım uzayda daha belirgin durur */
    pointer-events: none;
}

#crt-overlay.active { 
    /* Opaklık JS tarafından slider ile kontrol edilir (0.1 - 1.0) */
    opacity: 1; 
}